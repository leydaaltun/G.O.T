{"version":3,"sources":["index.js"],"names":["queryString","URLSearchParams","window","location","search","showName","get","fetch","then","res","json","gotinfo","updateShowHtml","showdata","show","genres","image","medium","name","site","officialSite","rating","average","schedule","time","days","summary","document","querySelector","src","genreHtml","forEach","genre","getElementById","innerHTML","input","addEventListener","event","searchquery","target","value","length","showlist","showSearchResultsOverlay","showSearchResults","searchResults","console","log","html","overlay","body","classList","add","remove"],"mappings":"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","file":"got.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const queryString = new URLSearchParams(window.location.search)\r\nconst showName = queryString.get('show')\r\n//console.log(showName)\r\n\r\n\r\nfetch(` http://api.tvmaze.com/singlesearch/shows?q=${showName}`)\r\n    .then(function(res){\r\n        return res.json()\r\n    })\r\n    .then(function(gotinfo){\r\n        //console.log(gotinfo)\r\n        updateShowHtml(gotinfo)\r\n    })\r\n\r\nfunction updateShowHtml(showdata) {\r\n    //console.log(showdata)\r\n\r\n    const show = {\r\n        genres: showdata.genres,\r\n        image: showdata.image.medium,\r\n        name: showdata.name,\r\n        site: showdata.officialSite,\r\n        rating: showdata.rating.average,\r\n        schedule: `${showdata.schedule.time} on ${showdata.schedule.days[0]}`,\r\n        summary: showdata.summary,\r\n    }\r\n    //console.log(show)\r\n    // document.querySelector('h1').innerHTML = show.name\r\n    document.querySelector('.ironThrone').src = show.image\r\n    let genreHtml = \"\"\r\n    show.genres.forEach(function(genre){\r\n        genreHtml += `<button class=\"type\"> ${genre} </button>`\r\n    })\r\n    document.getElementById('name').innerHTML = show.name\r\n    //console.log(show.name)\r\n    document.querySelector('.types').innerHTML = genreHtml\r\n    document.querySelector('.rating').innerHTML = show.rating\r\n    document.querySelector('.summary').innerHTML = show.summary\r\n    document.getElementById('schedule').innerHTML = show.schedule\r\n    document.querySelector('.site').innerHTML = show.site\r\n\r\n    \r\n}\r\n\r\nconst input = document.querySelector('.seriesSearch')\r\n//console.log(input)\r\n\r\ninput.addEventListener('input',function(event){\r\n    const searchquery = event.target.value\r\n    if(searchquery.length > 2) {\r\n        fetch(`http://api.tvmaze.com/search/shows?q=${searchquery}`)\r\n        .then(function(res){\r\n            return res.json()\r\n        })\r\n        .then(function(showlist){\r\n            showSearchResultsOverlay()\r\n            showSearchResults(showlist)\r\n        })\r\n    \r\n    }\r\n    \r\n})\r\n\r\n\r\n\r\nconst searchResults = document.querySelector('.searchResults')\r\nconsole.log(searchResults)\r\n\r\nfunction showSearchResults(showlist) {\r\n    \r\n    let html = ''\r\n    console.log(showlist)\r\n    showlist.forEach(function(show){\r\n        console.log(show)\r\n        console.log(show.show.name)\r\n        showSearchResultsOverlay()\r\n        html += `<li><a href=\"/?show=${show.show.name}\"> ${show.show.name} </a></li>`\r\n    })\r\n    searchResults.innerHTML = html\r\n    \r\n}\r\n\r\nconst overlay = document.querySelector('.overlay')\r\n\r\nfunction showSearchResultsOverlay() {\r\n    document.body.classList.add('modal-visible')\r\n    overlay.addEventListener('click',function(event){\r\n        document.body.classList.remove('modal-visible')\r\n    })\r\n\r\n\r\n}\r\n\r\n"]}